#Sensors
set(SENSOR_PATH ${CMAKE_CURRENT_SOURCE_DIR})

include_directories(${SENSOR_PATH})

if (";${TARGET_MODULES};" MATCHES ";HOTSWAP_SENSOR;")
  set(PROJ_SRCS ${PROJ_SRCS} ${SENSOR_PATH}/hotswap.c )
  set(MODULES_FLAGS "${MODULES_FLAGS} -DMODULE_HOTSWAP")
endif()

if (";${TARGET_MODULES};" MATCHES ";TEMPERATURE_SENSOR;")
  set(PROJ_SRCS ${PROJ_SRCS} ${SENSOR_PATH}/lm75.c)
  set(MODULES_FLAGS "${MODULES_FLAGS} -DMODULE_TEMPERATURE_SENSOR")
endif()

if (";${TARGET_MODULES};" MATCHES ";VOLTAGE_SENSOR;")
  set(PROJ_SRCS ${PROJ_SRCS} ${SENSOR_PATH}/ina220.c)
  set(MODULES_FLAGS "${MODULES_FLAGS} -DMODULE_VOLTAGE_SENSOR")
endif()

if (";${TARGET_MODULES};" MATCHES ";CURRENT_SENSOR;")
  set(PROJ_SRCS ${PROJ_SRCS} ${SENSOR_PATH}/ina220.c)
  set(MODULES_FLAGS "${MODULES_FLAGS} -DMODULE_CURRENT_SENSOR")
endif()

set(PROJ_SRCS ${PROJ_SRCS} ${SENSOR_PATH} PARENT_SCOPE)
set(PROJ_HDRS ${PROJ_HDRS} ${SENSOR_PATH} PARENT_SCOPE)
set(MODULES_FLAGS "${MODULES_FLAGS}" PARENT_SCOPE)
